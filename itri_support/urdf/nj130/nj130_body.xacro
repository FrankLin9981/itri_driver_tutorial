<?xml version="1.0" ?>
<robot xmlns:xacro="http://ros.org/wiki/xacro">

<xacro:macro name="nj130" params="prefix">
  <!-- meshes: main serial chain -->
  <link name="${prefix}base_link">
    <inertial>
      <mass value="774.8899"/>
      <orgin rpy="0 0 0" xyz="0.0000 -0.0362 0.1323"/>
      <inertia ixx="33.5119" ixy="-0.0049" ixz="-0.0003" iyy="25.6574" iyz="-0.0198" izz="47.9022"/>
    </inertial>
    <collision name="${prefix}base_link">
      <origin rpy="0  0  ${-pi/2}" xyz="0  0  0"/>
      <geometry>
        <mesh filename="package://itri_support/meshes/nj130/base.STL" scale="1.0 1.0 1.0"/>
      </geometry>
    </collision>
    <visual name="${prefix}base_link">
      <origin rpy="0  0  ${-pi/2}" xyz="0  0  0"/>
      <geometry>
        <mesh filename="package://itri_support/meshes/nj130/base.STL" scale="1.0 1.0 1.0"/>
      </geometry>
    </visual>
  </link>
  <link name="${prefix}link1">
    <inertial>
      <mass value="413.782044"/>
      <origin rpy="0 0 0" xyz="-0.012546 0.242656 0.296132"/>
      <inertia ixx="32.763251" ixy="0.429344" ixz="0.165571" iyy="32.475622" iyz="10.371882" izz="28.635599"/>
    </inertial>
    <collision name="${prefix}link1">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <mesh filename="package://itri_support/meshes/nj130/link1.STL" scale="1.0 1.0 1.0"/>
      </geometry>
    </collision>
    <visual name="${prefix}link1">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <mesh filename="package://itri_support/meshes/nj130/link1.STL" scale="1.0 1.0 1.0"/>
      </geometry>
    </visual>
  </link>
  <link name="${prefix}link2">
    <inertial>
      <mass value="179.412103"/>
      <origin rpy="0 0 0" xyz="0.023928 0.523998 0.024200"/>
      <inertia ixx="24.944316" ixy="0.056517" ixz="0.054721" iyy="2.680444" iyz="0.401816" izz="24.097291"/>
    </inertial>
    <collision name="${prefix}link2">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <mesh filename="package://itri_support/meshes/nj130/link2.STL" scale="1.0 1.0 1.0"/>
      </geometry>
    </collision>
    <visual name="${prefix}link2">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <mesh filename="package://itri_support/meshes/nj130/link2.STL" scale="1.0 1.0 1.0"/>
      </geometry>
    </visual>
  </link>
  <link name="${prefix}link3">
    <inertial>
      <mass value="198.716462"/>
      <origin rpy="0 0 0" xyz="0.216194 -0.018066 -0.014441"/>
      <inertia ixx="6.146618" ixy="-0.569827" ixz="-0.167201" iyy="4.306393" iyz="0.883908" izz="4.125998"/>
    </inertial>
    <collision name="${prefix}link3">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <mesh filename="package://itri_support/meshes/nj130/link3.STL" scale="1.0 1.0 1.0"/>
      </geometry>
    </collision>
    <visual name="${prefix}link3">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <mesh filename="package://itri_support/meshes/nj130/link3.STL" scale="1.0 1.0 1.0"/>
      </geometry>
    </visual>
  </link>
  <link name="${prefix}link4">
    <inertial>
      <mass value="11.691993"/>
      <orgin rpy="0 0 0" xyz="-0.000010 -0.000140 0.413256"/>
      <inertia ixx="0.394124" ixy="0.000010" ixz="-0.000032" iyy="0.393863" iyz="0.000464" izz="0.046591"/>
    </inertial>
    <collision name="${prefix}link4">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <mesh filename="package://itri_support/meshes/nj130/link4.STL" scale="1.0 1.0 1.0"/>
      </geometry>
    </collision>
    <visual name="${prefix}link4">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <mesh filename="package://itri_support/meshes/nj130/link4.STL" scale="1.0 1.0 1.0"/>
      </geometry>
    </visual>
  </link>
  <link name="${prefix}link5">
    <inertial>
      <mass value="17.204093"/>
      <orgin rpy="0 0 0" xyz="-0.000967 -0.098289 -0.000467"/>
      <inertia ixx="0.105372" ixy="-0.001203" ixz="0.000079" iyy="0.067485" iyz="0.002341" izz="0.089779"/>
    </inertial>
    <collision name="${prefix}link5">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <mesh filename="package://itri_support/meshes/nj130/link5.STL" scale="1.0 1.0 1.0"/>
      </geometry>
    </collision>
    <visual name="${prefix}link5">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <mesh filename="package://itri_support/meshes/nj130/link5.STL" scale="1.0 1.0 1.0"/>
      </geometry>
    </visual>
  </link>
  <link name="${prefix}link6">
    <inertial>
      <mass value="3.766890"/>
      <orgin rpy="0 0 0" xyz="0.000000 -0.000095 -0.017652"/>
      <inertia ixx="0.006572" ixy="0.0" ixz="0.0" iyy="0.007020" iyz="0.000035" izz="0.012705"/>
    </inertial>
    <collision name="${prefix}link6">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <mesh filename="package://itri_support/meshes/nj130/link6.STL" scale="1.0 1.0 1.0"/>
      </geometry>
    </collision>
    <visual name="${prefix}link6">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <mesh filename="package://itri_support/meshes/nj130/link6.STL" scale="1.0 1.0 1.0"/>
      </geometry>
    </visual>
  </link>
  <!-- end of link list -->
  
  <!-- joints: main serial chain -->
  <joint name="${prefix}joint1" type="revolute">
    <parent link="${prefix}base_link"/>
    <child link="${prefix}link1"/>
    <origin rpy="0  0  ${-pi/2}" xyz="0  0  0.331"/>
    <axis xyz="0  0  -1"/>
    <dynamics damping="0.7" friction="0.7"/>
    <limit effort="30.0" lower="${-pi}" upper="${pi}" velocity="1.919862"/>
  </joint>
  <joint name="${prefix}joint2" type="revolute">
    <parent link="${prefix}link1"/>
    <child link="${prefix}link2"/>
    <origin rpy="${pi/2}  0  ${pi/2}" xyz="0  0.35  0.499"/>
    <axis xyz="0  0  -1"/>
    <dynamics damping="0.7" friction="0.7"/>
    <limit effort="30.0" lower="-1.308997" upper="1.658" velocity="1.919862"/>
  </joint>
  <joint name="${prefix}joint3" type="revolute">
    <parent link="${prefix}link2"/>
    <child link="${prefix}link3"/>
    <origin rpy="0  0  0" xyz="0  1.16  0"/>
    <axis xyz="0  0  -1"/>
    <dynamics damping="0.7" friction="0.7"/>
    <limit effort="30.0" lower="-4.468" upper="-0.017453" velocity="1.919862"/>
  </joint>
  <joint name="${prefix}joint4" type="revolute">
    <parent link="${prefix}link3"/>
    <child link="${prefix}link4"/>
    <origin rpy="${pi/2}  0  0" xyz="0.25  0  0"/>
    <axis xyz="0  0  -1"/>
    <dynamics damping="0.7" friction="0.7"/>
    <limit effort="30.0" lower="-4.8869" upper="4.8869" velocity="3.31612"/>
  </joint>
  <joint name="${prefix}joint5" type="revolute">
    <parent link="${prefix}link4"/>
    <child link="${prefix}link5"/>
    <origin rpy="${-pi/2}  0  0" xyz="0  0  1.10558"/>
    <axis xyz="0  0  -1"/>
    <dynamics damping="0.7" friction="0.7"/>
    <limit effort="30.0" lower="${-2*pi/3}" upper="${2*pi/3}" velocity="3.31612"/>
  </joint>
  <joint name="${prefix}joint6" type="revolute">
    <parent link="${prefix}link5"/>
    <child link="${prefix}link6"/>
    <origin rpy="${pi/2}  ${pi}  0" xyz="0  -0.21  0"/>
    <axis xyz="0  0  -1"/>
    <dynamics damping="0.7" friction="0.7"/>
    <!-- limit effort="30.0" lower="${-15*pi}" upper="${15*pi}" velocity="4.01425"/ -->
    <limit effort="30.0" lower="${-pi}" upper="${pi}" velocity="4.01425"/>
  </joint>
  <!-- end of joint list -->

  <!-- ROS-Industrial 'flange' frame: attachment point for EEF models -->
    <link name="${prefix}flange" />
    <joint name="${prefix}link6_flange" type="fixed">
      <origin xyz="0 0 0" rpy="0 0 0" />
      <parent link="${prefix}link6" />
      <child link="${prefix}flange" />
    </joint>

</xacro:macro>
</robot>
